/* Copyright (c) 2010 WordImpressed.com jFlow Plus derived from Kean Loong Tan's orgininal jFlow http://www.wordimpressed.com
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * jFlow 1.2 (Plus)
 * Version: jFlow Plus
 * Requires: jQuery 1.2+
 */
(function(a){a.fn.jFlow=function(b){var c=a.extend({},a.fn.jFlow.defaults,b);var d=Math.floor(Math.random()*11);var e=c.controller;var f=c.slideWrapper;var g=c.selectedWrapper;var h=c.timer_slider;var i=0;var j;var k=a(e).length;var l=function(b,d){a(c.slides).children().css({overflow:"hidden"});a(c.slides+" iframe").hide().addClass("temp_hide");a(c.slides).animate({marginLeft:"-"+(d*a(c.slides).find(":first-child").width()+"px")},c.duration*b,c.easing,function(){a(c.slides).children().css({overflow:"hidden"});a(".temp_hide").show()})};a(this).find(e).each(function(b){a(this).click(function(){p();if(a(c.slides).is(":not(:animated)")){a(e).removeClass(g);a(this).addClass(g);var d=Math.abs(i-b);l(d,b);i=b}})});a(c.slides).before('<div id="'+f.substring(1,f.length)+'"></div>').appendTo(f);a(c.slides).find("div").each(function(){a(this).before('<div class="jFlowSlideContainer"></div>').appendTo(a(this).prev())});a(e).eq(i).addClass(g);var m=function(b){a(f).css({position:"relative",width:c.width,height:c.height,overflow:"hidden"});a(c.slides).css({position:"relative",width:a(f).width()*a(e).length+"px",height:a(f).height()+"px",overflow:"hidden"});a(c.slides).children().css({position:"relative",width:a(f).width()+"px",height:a(f).height()+"px","float":"left",overflow:"hidden"});a(c.slides).css({marginLeft:"-"+(i*a(c.slides).find(":eq(0)").width()+"px")})};m();a(window).resize(function(){m()});a(c.prev).click(function(){p();n()});a(c.next).click(function(){p();o()});var n=function(b){if(a(c.slides).is(":not(:animated)")){var d=1;if(i>0)i--;else{i=k-1;d=i}a(e).removeClass(g);l(d,i);a(e).eq(i).addClass(g)}};var o=function(b){if(a(c.slides).is(":not(:animated)")){var d=1;if(i<k-1)i++;else{i=0;d=k-1}a(e).removeClass(g);l(d,i);a(e).eq(i).addClass(g)}};var p=function(b){if(c.auto==true){if(j!=null)clearInterval(j);j=setInterval(function(){a(c.next).click()},h)}};p();a(c.slides).hover(function(){clearInterval(j)},function(){p()})};a.fn.jFlow.defaults={controller:"#myController",slideWrapper:"#mySlides",selectedWrapper:".jFlowSelected",timer_slider:1e4,auto:true,easing:"swing",duration:400,width:"100%",prev:".jFlowPrev",next:".jFlowNext"}})(jQuery)